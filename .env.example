# =================================================================
# The Gathering - Environment Configuration Template
# =================================================================
# SECURITY WARNING: Never commit real credentials to version control!
# Copy this file to .env and replace ALL placeholder values.

# Database Configuration
# Replace with your actual PostgreSQL credentials
DATABASE_URL=postgresql://YOUR_DB_USER:YOUR_SECURE_PASSWORD@localhost:5432/your_database_name
POSTGRES_USER=YOUR_DB_USER
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD_HERE
POSTGRES_DB=your_database_name

# Security Configuration - CRITICAL: Change these values!
# Generate a strong secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_STRONG_SECRET_KEY_MINIMUM_32_CHARACTERS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Cookie Security (Production defaults to secure=true)
# Only set to false for local HTTP development (http://localhost)
# COOKIE_SECURE=false

# Application Configuration
APP_NAME=The Gathering API
APP_VERSION=1.0.0
# SECURITY: Set DEBUG=false in production!
DEBUG=false

# AI Integration Configuration
# Get your API key from: https://www.deepl.com/pro-api
DEEPL_API_KEY=YOUR_DEEPL_API_KEY_HERE

# LLM Provider Configuration (Optional - for AI entities)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE

# Google AI Configuration (Optional - for embeddings)
# Get your API key from: https://aistudio.google.com/apikey
GOOGLE_API_KEY=YOUR_GOOGLE_API_KEY_HERE

# Redis & ARQ Configuration
REDIS_URL=redis://localhost:6379
AI_FEATURES_ENABLED=true

# RAG & Vector Search Configuration
ENABLE_VECTOR_SEARCH=true
# Embedding Provider: 'google' (Gemini) or 'openai' (OpenAI)
EMBEDDING_PROVIDER=google
# Model name depends on provider:
#   Google: gemini-embedding-001
#   OpenAI: text-embedding-3-small or text-embedding-3-large
EMBEDDING_MODEL=gemini-embedding-001
EMBEDDING_DIMENSIONS=1536
VECTOR_SEARCH_WEIGHT=0.7
KEYWORD_SEARCH_WEIGHT=0.3

# Keyword Extraction Configuration (YAKE)
# Language for keyword extraction: 'de' (German) or 'en' (English)
KEYWORD_LANGUAGE=de
# Maximum n-gram size: 1=unigrams, 2=bigrams, 3=trigrams (allows "freier wille")
KEYWORD_MAX_NGRAMS=3
# Context window size for co-occurrence analysis (higher = more context)
KEYWORD_WINDOW_SIZE=3
# Deduplication threshold (0.0-1.0, higher = more deduplication)
KEYWORD_DEDUP_THRESHOLD=0.9
# Minimum keyword length (2 allows "AI", "KI")
KEYWORD_MIN_LENGTH=2
# Number of candidate keywords to extract before filtering
KEYWORD_TOP_N=20

# Memory Retrieval Configuration
TOTAL_MEMORY_LIMIT=7
GUARANTEED_SHORT_TERM=1
GUARANTEED_LONG_TERM=0
GUARANTEED_PERSONALITY=0

# Layer Weights for Cross-Layer RRF
SHORT_TERM_WEIGHT=2.0
LONG_TERM_WEIGHT=1.0
PERSONALITY_WEIGHT=1.0

# Retrieval Candidate Limits per Layer
SHORT_TERM_CANDIDATES=5
LONG_TERM_CANDIDATES=5
PERSONALITY_CANDIDATES=5

# TTL for Short-term Memories (in days)
SHORT_TERM_TTL_DAYS=7

# Testing Configuration (for development only)
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/thegathering_test

# =================================================================
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Replace ALL placeholder values with real credentials
# 3. Generate strong SECRET_KEY (see command above)
# 4. Never commit .env file to git
# 5. Use strong, unique passwords for database
# =================================================================
2025-09-30T00:58:43.0503239Z Current runner version: '2.328.0'
2025-09-30T00:58:43.0537320Z ##[group]Runner Image Provisioner
2025-09-30T00:58:43.0538823Z Hosted Compute Agent
2025-09-30T00:58:43.0539721Z Version: 20250912.392
2025-09-30T00:58:43.0540723Z Commit: d921fda672a98b64f4f82364647e2f10b2267d0b
2025-09-30T00:58:43.0542039Z Build Date: 2025-09-12T15:23:14Z
2025-09-30T00:58:43.0543282Z ##[endgroup]
2025-09-30T00:58:43.0544233Z ##[group]Operating System
2025-09-30T00:58:43.0545343Z Ubuntu
2025-09-30T00:58:43.0546173Z 24.04.3
2025-09-30T00:58:43.0547006Z LTS
2025-09-30T00:58:43.0547877Z ##[endgroup]
2025-09-30T00:58:43.0548786Z ##[group]Runner Image
2025-09-30T00:58:43.0549700Z Image: ubuntu-24.04
2025-09-30T00:58:43.0550591Z Version: 20250922.53.1
2025-09-30T00:58:43.0552478Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250922.53/images/ubuntu/Ubuntu2404-Readme.md
2025-09-30T00:58:43.0555584Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250922.53
2025-09-30T00:58:43.0557474Z ##[endgroup]
2025-09-30T00:58:43.0559538Z ##[group]GITHUB_TOKEN Permissions
2025-09-30T00:58:43.0562068Z Contents: read
2025-09-30T00:58:43.0563164Z Metadata: read
2025-09-30T00:58:43.0564171Z Packages: read
2025-09-30T00:58:43.0564986Z ##[endgroup]
2025-09-30T00:58:43.0567964Z Secret source: Actions
2025-09-30T00:58:43.0569221Z Prepare workflow directory
2025-09-30T00:58:43.1385887Z Prepare all required actions
2025-09-30T00:58:43.1440810Z Getting action download info
2025-09-30T00:58:43.6589099Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-09-30T00:58:43.8318370Z Download action repository 'actions/setup-python@v4' (SHA:7f4fc3e22c37d6ff65e88745f38bd3157c663f7c)
2025-09-30T00:58:43.9535687Z Download action repository 'SonarSource/sonarqube-scan-action@master' (SHA:5ffbad44543237d1b339a5ed57a774432e19f3e4)
2025-09-30T00:58:44.5661613Z Complete job name: test
2025-09-30T00:58:44.6131619Z ##[group]Checking docker version
2025-09-30T00:58:44.6144658Z ##[command]/usr/bin/docker version --format '{{.Server.APIVersion}}'
2025-09-30T00:58:44.6919427Z '1.48'
2025-09-30T00:58:44.6932000Z Docker daemon API version: '1.48'
2025-09-30T00:58:44.6933076Z ##[command]/usr/bin/docker version --format '{{.Client.APIVersion}}'
2025-09-30T00:58:44.7103593Z '1.48'
2025-09-30T00:58:44.7116698Z Docker client API version: '1.48'
2025-09-30T00:58:44.7122325Z ##[endgroup]
2025-09-30T00:58:44.7126068Z ##[group]Clean up resources from previous jobs
2025-09-30T00:58:44.7131506Z ##[command]/usr/bin/docker ps --all --quiet --no-trunc --filter "label=dd4110"
2025-09-30T00:58:44.7283126Z ##[command]/usr/bin/docker network prune --force --filter "label=dd4110"
2025-09-30T00:58:44.7424849Z ##[endgroup]
2025-09-30T00:58:44.7425404Z ##[group]Create local container network
2025-09-30T00:58:44.7435637Z ##[command]/usr/bin/docker network create --label dd4110 github_network_31b950d2e5204a98b1a0969421dd15ae
2025-09-30T00:58:44.8132572Z ae91e002f914297662a4a9867e723c20cba0ef0210a8b79927c0463d07e1d41f
2025-09-30T00:58:44.8142425Z ##[endgroup]
2025-09-30T00:58:44.8167921Z ##[group]Starting postgres service container
2025-09-30T00:58:44.8186196Z ##[command]/usr/bin/docker pull postgres:13
2025-09-30T00:58:45.7691003Z 13: Pulling from library/postgres
2025-09-30T00:58:46.0381331Z ce1261c6d567: Pulling fs layer
2025-09-30T00:58:46.0382727Z 13ace7265cdb: Pulling fs layer
2025-09-30T00:58:46.0384214Z fe812214d6b3: Pulling fs layer
2025-09-30T00:58:46.0385288Z 6d5e9f08e79c: Pulling fs layer
2025-09-30T00:58:46.0386101Z 843a44389b35: Pulling fs layer
2025-09-30T00:58:46.0386928Z 591035fb5d23: Pulling fs layer
2025-09-30T00:58:46.0387742Z ecbcc2c338b1: Pulling fs layer
2025-09-30T00:58:46.0388555Z d019f8b46d41: Pulling fs layer
2025-09-30T00:58:46.0389460Z bd20aae5d9de: Pulling fs layer
2025-09-30T00:58:46.0390373Z 90c552ec1b62: Pulling fs layer
2025-09-30T00:58:46.0391275Z 87d7240aa4c4: Pulling fs layer
2025-09-30T00:58:46.0392220Z 6f853c80e2f6: Pulling fs layer
2025-09-30T00:58:46.0393352Z 4dea4fb0ff58: Pulling fs layer
2025-09-30T00:58:46.0394696Z 2afbec19023b: Pulling fs layer
2025-09-30T00:58:46.0395607Z 6d5e9f08e79c: Waiting
2025-09-30T00:58:46.0396363Z 843a44389b35: Waiting
2025-09-30T00:58:46.0397111Z 591035fb5d23: Waiting
2025-09-30T00:58:46.0397883Z ecbcc2c338b1: Waiting
2025-09-30T00:58:46.0398768Z d019f8b46d41: Waiting
2025-09-30T00:58:46.0399735Z bd20aae5d9de: Waiting
2025-09-30T00:58:46.0400736Z 90c552ec1b62: Waiting
2025-09-30T00:58:46.0401737Z 87d7240aa4c4: Waiting
2025-09-30T00:58:46.0402754Z 6f853c80e2f6: Waiting
2025-09-30T00:58:46.0404079Z 4dea4fb0ff58: Waiting
2025-09-30T00:58:46.0405136Z 2afbec19023b: Waiting
2025-09-30T00:58:46.3449528Z 13ace7265cdb: Download complete
2025-09-30T00:58:46.3827602Z fe812214d6b3: Download complete
2025-09-30T00:58:46.6042564Z 6d5e9f08e79c: Verifying Checksum
2025-09-30T00:58:46.6044727Z 6d5e9f08e79c: Download complete
2025-09-30T00:58:46.8271231Z 843a44389b35: Verifying Checksum
2025-09-30T00:58:46.8273201Z 843a44389b35: Download complete
2025-09-30T00:58:46.8683107Z 591035fb5d23: Verifying Checksum
2025-09-30T00:58:46.8684335Z 591035fb5d23: Download complete
2025-09-30T00:58:47.1022691Z ecbcc2c338b1: Verifying Checksum
2025-09-30T00:58:47.1023534Z ecbcc2c338b1: Download complete
2025-09-30T00:58:47.1236403Z d019f8b46d41: Verifying Checksum
2025-09-30T00:58:47.1237060Z d019f8b46d41: Download complete
2025-09-30T00:58:47.3850713Z ce1261c6d567: Verifying Checksum
2025-09-30T00:58:47.3851232Z ce1261c6d567: Download complete
2025-09-30T00:58:47.3887037Z 90c552ec1b62: Verifying Checksum
2025-09-30T00:58:47.3889443Z 90c552ec1b62: Download complete
2025-09-30T00:58:47.6567905Z 6f853c80e2f6: Verifying Checksum
2025-09-30T00:58:47.6569567Z 6f853c80e2f6: Download complete
2025-09-30T00:58:47.7309772Z 87d7240aa4c4: Verifying Checksum
2025-09-30T00:58:47.7311487Z 87d7240aa4c4: Download complete
2025-09-30T00:58:47.9264867Z 4dea4fb0ff58: Verifying Checksum
2025-09-30T00:58:47.9267029Z 4dea4fb0ff58: Download complete
2025-09-30T00:58:47.9920411Z 2afbec19023b: Verifying Checksum
2025-09-30T00:58:47.9921273Z 2afbec19023b: Download complete
2025-09-30T00:58:48.4585882Z ce1261c6d567: Pull complete
2025-09-30T00:58:49.1817351Z 13ace7265cdb: Pull complete
2025-09-30T00:58:49.3893982Z fe812214d6b3: Pull complete
2025-09-30T00:58:49.4400315Z 6d5e9f08e79c: Pull complete
2025-09-30T00:58:49.6305630Z bd20aae5d9de: Verifying Checksum
2025-09-30T00:58:49.6313211Z bd20aae5d9de: Download complete
2025-09-30T00:58:49.8318094Z 843a44389b35: Pull complete
2025-09-30T00:58:49.9220163Z 591035fb5d23: Pull complete
2025-09-30T00:58:49.9333809Z ecbcc2c338b1: Pull complete
2025-09-30T00:58:49.9444459Z d019f8b46d41: Pull complete
2025-09-30T00:58:53.8317097Z bd20aae5d9de: Pull complete
2025-09-30T00:58:53.8684867Z 90c552ec1b62: Pull complete
2025-09-30T00:58:53.8837676Z 87d7240aa4c4: Pull complete
2025-09-30T00:58:53.8989465Z 6f853c80e2f6: Pull complete
2025-09-30T00:58:53.9100048Z 4dea4fb0ff58: Pull complete
2025-09-30T00:58:53.9209543Z 2afbec19023b: Pull complete
2025-09-30T00:58:53.9253741Z Digest: sha256:9b0df1a5a48a93152e213022a977370d04add86e46abe3c420a978e49bad8032
2025-09-30T00:58:53.9266352Z Status: Downloaded newer image for postgres:13
2025-09-30T00:58:53.9280117Z docker.io/library/postgres:13
2025-09-30T00:58:53.9341773Z ##[command]/usr/bin/docker create --name 31e22dbc9c9442d89a94c77750cfbb0a_postgres13_3cd9ba --label dd4110 --network github_network_31b950d2e5204a98b1a0969421dd15ae --network-alias postgres -p 5432:5432 --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5 -e "POSTGRES_USER=postgres" -e "POSTGRES_PASSWORD=postgres" -e "POSTGRES_DB=postgres" -e GITHUB_ACTIONS=true -e CI=true postgres:13
2025-09-30T00:58:53.9600541Z c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:53.9624627Z ##[command]/usr/bin/docker start c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:54.2714797Z c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:54.2743699Z ##[command]/usr/bin/docker ps --all --filter id=c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56 --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-09-30T00:58:54.2940907Z c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56 Up Less than a second (health: starting)
2025-09-30T00:58:54.2977096Z ##[command]/usr/bin/docker port c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:54.3171626Z 5432/tcp -> 0.0.0.0:5432
2025-09-30T00:58:54.3172372Z 5432/tcp -> [::]:5432
2025-09-30T00:58:54.3235474Z ##[endgroup]
2025-09-30T00:58:54.3247037Z ##[group]Waiting for all services to be ready
2025-09-30T00:58:54.3265114Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:54.3463274Z starting
2025-09-30T00:58:54.3501930Z postgres service is starting, waiting 2 seconds before checking again.
2025-09-30T00:58:56.3505213Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:58:56.3637761Z starting
2025-09-30T00:58:56.3650877Z postgres service is starting, waiting 3 seconds before checking again.
2025-09-30T00:59:00.0547569Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:59:00.0741686Z starting
2025-09-30T00:59:00.0768014Z postgres service is starting, waiting 7 seconds before checking again.
2025-09-30T00:59:07.6532180Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:59:07.6748590Z healthy
2025-09-30T00:59:07.6767714Z postgres service is healthy.
2025-09-30T00:59:07.6768764Z ##[endgroup]
2025-09-30T00:59:07.7015397Z ##[group]Run actions/checkout@v4
2025-09-30T00:59:07.7015956Z with:
2025-09-30T00:59:07.7016169Z   repository: Sammyduzit/the_gathering_beta
2025-09-30T00:59:07.7016571Z   token: ***
2025-09-30T00:59:07.7016744Z   ssh-strict: true
2025-09-30T00:59:07.7016925Z   ssh-user: git
2025-09-30T00:59:07.7017113Z   persist-credentials: true
2025-09-30T00:59:07.7017328Z   clean: true
2025-09-30T00:59:07.7017515Z   sparse-checkout-cone-mode: true
2025-09-30T00:59:07.7017740Z   fetch-depth: 1
2025-09-30T00:59:07.7017912Z   fetch-tags: false
2025-09-30T00:59:07.7018095Z   show-progress: true
2025-09-30T00:59:07.7018278Z   lfs: false
2025-09-30T00:59:07.7018445Z   submodules: false
2025-09-30T00:59:07.7018632Z   set-safe-directory: true
2025-09-30T00:59:07.7019027Z env:
2025-09-30T00:59:07.7019394Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:07.7019635Z   CI: true
2025-09-30T00:59:07.7019809Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:07.7020042Z   ALGORITHM: HS256
2025-09-30T00:59:07.7020275Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:07.7020510Z   APP_NAME: The Gathering Test
2025-09-30T00:59:07.7020716Z   DEBUG: false
2025-09-30T00:59:07.7020899Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:07.7021132Z ##[endgroup]
2025-09-30T00:59:07.8135322Z Syncing repository: Sammyduzit/the_gathering_beta
2025-09-30T00:59:07.8137088Z ##[group]Getting Git version info
2025-09-30T00:59:07.8137778Z Working directory is '/home/runner/work/the_gathering_beta/the_gathering_beta'
2025-09-30T00:59:07.8138724Z [command]/usr/bin/git version
2025-09-30T00:59:07.8233386Z git version 2.51.0
2025-09-30T00:59:07.8236247Z ##[endgroup]
2025-09-30T00:59:07.8251644Z Temporarily overriding HOME='/home/runner/work/_temp/90b896f7-0351-41b9-b813-75c1d93a8bdd' before making global git config changes
2025-09-30T00:59:07.8254569Z Adding repository directory to the temporary git global config as a safe directory
2025-09-30T00:59:07.8259023Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/the_gathering_beta/the_gathering_beta
2025-09-30T00:59:07.8307234Z Deleting the contents of '/home/runner/work/the_gathering_beta/the_gathering_beta'
2025-09-30T00:59:07.8311386Z ##[group]Initializing the repository
2025-09-30T00:59:07.8316559Z [command]/usr/bin/git init /home/runner/work/the_gathering_beta/the_gathering_beta
2025-09-30T00:59:07.8412972Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-09-30T00:59:07.8415210Z hint: is subject to change. To configure the initial branch name to use in all
2025-09-30T00:59:07.8416054Z hint: of your new repositories, which will suppress this warning, call:
2025-09-30T00:59:07.8416635Z hint:
2025-09-30T00:59:07.8417049Z hint: 	git config --global init.defaultBranch <name>
2025-09-30T00:59:07.8417537Z hint:
2025-09-30T00:59:07.8418031Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-09-30T00:59:07.8418907Z hint: 'development'. The just-created branch can be renamed via this command:
2025-09-30T00:59:07.8419576Z hint:
2025-09-30T00:59:07.8419938Z hint: 	git branch -m <name>
2025-09-30T00:59:07.8420346Z hint:
2025-09-30T00:59:07.8421108Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-09-30T00:59:07.8423802Z Initialized empty Git repository in /home/runner/work/the_gathering_beta/the_gathering_beta/.git/
2025-09-30T00:59:07.8431492Z [command]/usr/bin/git remote add origin https://github.com/Sammyduzit/the_gathering_beta
2025-09-30T00:59:07.8564573Z ##[endgroup]
2025-09-30T00:59:07.8616435Z ##[group]Disabling automatic garbage collection
2025-09-30T00:59:07.8618671Z [command]/usr/bin/git config --local gc.auto 0
2025-09-30T00:59:07.8620031Z ##[endgroup]
2025-09-30T00:59:07.8620528Z ##[group]Setting up auth
2025-09-30T00:59:07.8621122Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-30T00:59:07.8623600Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-30T00:59:07.8897816Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-30T00:59:07.8930329Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-30T00:59:07.9160183Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-09-30T00:59:07.9198080Z ##[endgroup]
2025-09-30T00:59:07.9199934Z ##[group]Fetching the repository
2025-09-30T00:59:07.9217849Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +a35765581c6f9bbe76c33e6b4085a4192f1cb6ad:refs/remotes/origin/main
2025-09-30T00:59:08.3998181Z From https://github.com/Sammyduzit/the_gathering_beta
2025-09-30T00:59:08.4005396Z  * [new ref]         a35765581c6f9bbe76c33e6b4085a4192f1cb6ad -> origin/main
2025-09-30T00:59:08.4025943Z ##[endgroup]
2025-09-30T00:59:08.4028159Z ##[group]Determining the checkout info
2025-09-30T00:59:08.4030459Z ##[endgroup]
2025-09-30T00:59:08.4032733Z [command]/usr/bin/git sparse-checkout disable
2025-09-30T00:59:08.4077770Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-09-30T00:59:08.4107369Z ##[group]Checking out the ref
2025-09-30T00:59:08.4111659Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-09-30T00:59:08.4215877Z Switched to a new branch 'main'
2025-09-30T00:59:08.4217796Z branch 'main' set up to track 'origin/main'.
2025-09-30T00:59:08.4227252Z ##[endgroup]
2025-09-30T00:59:08.4263162Z [command]/usr/bin/git log -1 --format=%H
2025-09-30T00:59:08.4286794Z a35765581c6f9bbe76c33e6b4085a4192f1cb6ad
2025-09-30T00:59:08.4491154Z ##[group]Run actions/setup-python@v4
2025-09-30T00:59:08.4491425Z with:
2025-09-30T00:59:08.4491594Z   python-version: 3.13
2025-09-30T00:59:08.4491973Z   check-latest: false
2025-09-30T00:59:08.4492268Z   token: ***
2025-09-30T00:59:08.4492448Z   update-environment: true
2025-09-30T00:59:08.4492671Z   allow-prereleases: false
2025-09-30T00:59:08.4493048Z env:
2025-09-30T00:59:08.4493404Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:08.4493644Z   CI: true
2025-09-30T00:59:08.4493825Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:08.4494062Z   ALGORITHM: HS256
2025-09-30T00:59:08.4494265Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:08.4494498Z   APP_NAME: The Gathering Test
2025-09-30T00:59:08.4494703Z   DEBUG: false
2025-09-30T00:59:08.4494890Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:08.4495122Z ##[endgroup]
2025-09-30T00:59:08.6229675Z ##[group]Installed versions
2025-09-30T00:59:08.6675818Z Successfully set up CPython (3.13.7)
2025-09-30T00:59:08.6676996Z ##[endgroup]
2025-09-30T00:59:08.6785193Z ##[group]Run python -m pip install --upgrade pip
2025-09-30T00:59:08.6785600Z [36;1mpython -m pip install --upgrade pip[0m
2025-09-30T00:59:08.6785908Z [36;1mpip install -r requirements.txt[0m
2025-09-30T00:59:08.6929523Z shell: /usr/bin/bash -e {0}
2025-09-30T00:59:08.6929765Z env:
2025-09-30T00:59:08.6930243Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:08.6930501Z   CI: true
2025-09-30T00:59:08.6930688Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:08.6930923Z   ALGORITHM: HS256
2025-09-30T00:59:08.6931122Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:08.6931358Z   APP_NAME: The Gathering Test
2025-09-30T00:59:08.6931566Z   DEBUG: false
2025-09-30T00:59:08.6931760Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:08.6932061Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:08.6932476Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib/pkgconfig
2025-09-30T00:59:08.6933174Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:08.6933537Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:08.6933890Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:08.6934226Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib
2025-09-30T00:59:08.6934520Z ##[endgroup]
2025-09-30T00:59:12.0585124Z Requirement already satisfied: pip in /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages (25.2)
2025-09-30T00:59:13.1603066Z Collecting fastapi==0.115.13 (from -r requirements.txt (line 1))
2025-09-30T00:59:13.1977257Z   Downloading fastapi-0.115.13-py3-none-any.whl.metadata (27 kB)
2025-09-30T00:59:13.2330027Z Collecting uvicorn==0.34.3 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:13.2363595Z   Downloading uvicorn-0.34.3-py3-none-any.whl.metadata (6.5 kB)
2025-09-30T00:59:13.4944063Z Collecting sqlalchemy==2.0.41 (from -r requirements.txt (line 3))
2025-09-30T00:59:13.4990456Z   Downloading sqlalchemy-2.0.41-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.6 kB)
2025-09-30T00:59:13.5524186Z Collecting asyncpg==0.30.0 (from -r requirements.txt (line 4))
2025-09-30T00:59:13.5605676Z   Downloading asyncpg-0.30.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.0 kB)
2025-09-30T00:59:13.6796185Z Collecting greenlet==3.2.4 (from -r requirements.txt (line 5))
2025-09-30T00:59:13.6826867Z   Downloading greenlet-3.2.4-cp313-cp313-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2025-09-30T00:59:13.7931612Z Collecting pydantic==2.11.7 (from -r requirements.txt (line 7))
2025-09-30T00:59:13.7973631Z   Downloading pydantic-2.11.7-py3-none-any.whl.metadata (67 kB)
2025-09-30T00:59:13.8175216Z Collecting pydantic-settings==2.9.1 (from -r requirements.txt (line 8))
2025-09-30T00:59:13.8218391Z   Downloading pydantic_settings-2.9.1-py3-none-any.whl.metadata (3.8 kB)
2025-09-30T00:59:13.8386346Z Collecting email-validator==2.2.0 (from -r requirements.txt (line 9))
2025-09-30T00:59:13.8423505Z   Downloading email_validator-2.2.0-py3-none-any.whl.metadata (25 kB)
2025-09-30T00:59:13.8849973Z Collecting bcrypt==4.3.0 (from -r requirements.txt (line 11))
2025-09-30T00:59:13.8881632Z   Downloading bcrypt-4.3.0-cp39-abi3-manylinux_2_34_x86_64.whl.metadata (10 kB)
2025-09-30T00:59:13.9053048Z Collecting PyJWT==2.10.1 (from -r requirements.txt (line 12))
2025-09-30T00:59:13.9090033Z   Downloading PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
2025-09-30T00:59:13.9351221Z Collecting requests==2.32.4 (from -r requirements.txt (line 14))
2025-09-30T00:59:13.9378996Z   Downloading requests-2.32.4-py3-none-any.whl.metadata (4.9 kB)
2025-09-30T00:59:13.9700449Z Collecting pytest==8.4.1 (from -r requirements.txt (line 16))
2025-09-30T00:59:13.9728484Z   Downloading pytest-8.4.1-py3-none-any.whl.metadata (7.7 kB)
2025-09-30T00:59:13.9891444Z Collecting pytest-cov==6.2.1 (from -r requirements.txt (line 17))
2025-09-30T00:59:13.9921804Z   Downloading pytest_cov-6.2.1-py3-none-any.whl.metadata (30 kB)
2025-09-30T00:59:14.0129448Z Collecting pytest-asyncio==0.25.1 (from -r requirements.txt (line 18))
2025-09-30T00:59:14.0166576Z   Downloading pytest_asyncio-0.25.1-py3-none-any.whl.metadata (3.9 kB)
2025-09-30T00:59:14.0315887Z Collecting aiosqlite==0.20.0 (from -r requirements.txt (line 19))
2025-09-30T00:59:14.0354027Z   Downloading aiosqlite-0.20.0-py3-none-any.whl.metadata (4.3 kB)
2025-09-30T00:59:14.0542537Z Collecting anyio==4.11.0 (from -r requirements.txt (line 20))
2025-09-30T00:59:14.0568727Z   Downloading anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
2025-09-30T00:59:14.0725574Z Collecting python-dotenv==1.1.0 (from -r requirements.txt (line 22))
2025-09-30T00:59:14.0761253Z   Downloading python_dotenv-1.1.0-py3-none-any.whl.metadata (24 kB)
2025-09-30T00:59:14.1290157Z Collecting markupsafe==3.0.2 (from -r requirements.txt (line 24))
2025-09-30T00:59:14.1334541Z   Downloading MarkupSafe-3.0.2-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
2025-09-30T00:59:14.1553770Z Collecting httpx==0.28.1 (from -r requirements.txt (line 26))
2025-09-30T00:59:14.1581143Z   Downloading httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
2025-09-30T00:59:14.5462707Z Collecting ruff==0.12.0 (from -r requirements.txt (line 28))
2025-09-30T00:59:14.5502303Z   Downloading ruff-0.12.0-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (25 kB)
2025-09-30T00:59:14.6066560Z Collecting deepl==1.22.0 (from -r requirements.txt (line 30))
2025-09-30T00:59:14.6104237Z   Downloading deepl-1.22.0-py3-none-any.whl.metadata (35 kB)
2025-09-30T00:59:14.6425686Z Collecting starlette<0.47.0,>=0.40.0 (from fastapi==0.115.13->-r requirements.txt (line 1))
2025-09-30T00:59:14.6452099Z   Downloading starlette-0.46.2-py3-none-any.whl.metadata (6.2 kB)
2025-09-30T00:59:14.6950112Z Collecting typing-extensions>=4.8.0 (from fastapi==0.115.13->-r requirements.txt (line 1))
2025-09-30T00:59:14.6979571Z   Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
2025-09-30T00:59:14.7092572Z Collecting annotated-types>=0.6.0 (from pydantic==2.11.7->-r requirements.txt (line 7))
2025-09-30T00:59:14.7119438Z   Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
2025-09-30T00:59:15.3677817Z Collecting pydantic-core==2.33.2 (from pydantic==2.11.7->-r requirements.txt (line 7))
2025-09-30T00:59:15.3709668Z   Downloading pydantic_core-2.33.2-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-09-30T00:59:15.3846781Z Collecting typing-inspection>=0.4.0 (from pydantic==2.11.7->-r requirements.txt (line 7))
2025-09-30T00:59:15.3876910Z   Downloading typing_inspection-0.4.1-py3-none-any.whl.metadata (2.6 kB)
2025-09-30T00:59:15.4061601Z Collecting click>=7.0 (from uvicorn==0.34.3->uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:15.4126451Z   Downloading click-8.3.0-py3-none-any.whl.metadata (2.6 kB)
2025-09-30T00:59:15.4237071Z Collecting h11>=0.8 (from uvicorn==0.34.3->uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:15.4277293Z   Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
2025-09-30T00:59:15.4715728Z Collecting dnspython>=2.0.0 (from email-validator==2.2.0->-r requirements.txt (line 9))
2025-09-30T00:59:15.4842329Z   Downloading dnspython-2.8.0-py3-none-any.whl.metadata (5.7 kB)
2025-09-30T00:59:15.5012440Z Collecting idna>=2.0.0 (from email-validator==2.2.0->-r requirements.txt (line 9))
2025-09-30T00:59:15.5146342Z   Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
2025-09-30T00:59:15.5938350Z Collecting charset_normalizer<4,>=2 (from requests==2.32.4->-r requirements.txt (line 14))
2025-09-30T00:59:15.5981669Z   Downloading charset_normalizer-3.4.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
2025-09-30T00:59:15.6312110Z Collecting urllib3<3,>=1.21.1 (from requests==2.32.4->-r requirements.txt (line 14))
2025-09-30T00:59:15.6338357Z   Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
2025-09-30T00:59:15.6552111Z Collecting certifi>=2017.4.17 (from requests==2.32.4->-r requirements.txt (line 14))
2025-09-30T00:59:15.6580338Z   Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
2025-09-30T00:59:15.6681959Z Collecting iniconfig>=1 (from pytest==8.4.1->-r requirements.txt (line 16))
2025-09-30T00:59:15.6723291Z   Downloading iniconfig-2.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-09-30T00:59:15.6905977Z Collecting packaging>=20 (from pytest==8.4.1->-r requirements.txt (line 16))
2025-09-30T00:59:15.6947416Z   Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2025-09-30T00:59:15.7071843Z Collecting pluggy<2,>=1.5 (from pytest==8.4.1->-r requirements.txt (line 16))
2025-09-30T00:59:15.7105786Z   Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
2025-09-30T00:59:15.7298077Z Collecting pygments>=2.7.2 (from pytest==8.4.1->-r requirements.txt (line 16))
2025-09-30T00:59:15.7328430Z   Downloading pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
2025-09-30T00:59:16.0524689Z Collecting coverage>=7.5 (from coverage[toml]>=7.5->pytest-cov==6.2.1->-r requirements.txt (line 17))
2025-09-30T00:59:16.0561463Z   Downloading coverage-7.10.7-cp313-cp313-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.9 kB)
2025-09-30T00:59:16.0892619Z Collecting sniffio>=1.1 (from anyio==4.11.0->-r requirements.txt (line 20))
2025-09-30T00:59:16.0921935Z   Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-09-30T00:59:16.1133729Z Collecting httpcore==1.* (from httpx==0.28.1->-r requirements.txt (line 26))
2025-09-30T00:59:16.1160735Z   Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
2025-09-30T00:59:16.1630380Z Collecting httptools>=0.6.3 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:16.1663015Z   Downloading httptools-0.6.4-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
2025-09-30T00:59:16.2061315Z Collecting pyyaml>=5.1 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:16.2113438Z   Downloading pyyaml-6.0.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)
2025-09-30T00:59:16.2487382Z Collecting uvloop>=0.15.1 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:16.2529081Z   Downloading uvloop-0.21.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-09-30T00:59:16.3208231Z Collecting watchfiles>=0.13 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:16.3253365Z   Downloading watchfiles-1.1.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-09-30T00:59:16.4282630Z Collecting websockets>=10.4 (from uvicorn[standard]==0.34.3->-r requirements.txt (line 2))
2025-09-30T00:59:16.4315453Z   Downloading websockets-15.0.1-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-09-30T00:59:16.4775234Z Downloading fastapi-0.115.13-py3-none-any.whl (95 kB)
2025-09-30T00:59:16.4825590Z Downloading pydantic-2.11.7-py3-none-any.whl (444 kB)
2025-09-30T00:59:16.4911929Z Downloading uvicorn-0.34.3-py3-none-any.whl (62 kB)
2025-09-30T00:59:16.4960912Z Downloading sqlalchemy-2.0.41-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.2 MB)
2025-09-30T00:59:16.5256384Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 118.6 MB/s  0:00:00
2025-09-30T00:59:16.5289451Z Downloading asyncpg-0.30.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
2025-09-30T00:59:16.5495866Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 185.2 MB/s  0:00:00
2025-09-30T00:59:16.5543620Z Downloading greenlet-3.2.4-cp313-cp313-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (610 kB)
2025-09-30T00:59:16.5603619Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 610.5/610.5 kB 103.6 MB/s  0:00:00
2025-09-30T00:59:16.5635648Z Downloading pydantic_settings-2.9.1-py3-none-any.whl (44 kB)
2025-09-30T00:59:16.5689494Z Downloading email_validator-2.2.0-py3-none-any.whl (33 kB)
2025-09-30T00:59:16.5769765Z Downloading bcrypt-4.3.0-cp39-abi3-manylinux_2_34_x86_64.whl (284 kB)
2025-09-30T00:59:16.5836527Z Downloading PyJWT-2.10.1-py3-none-any.whl (22 kB)
2025-09-30T00:59:16.5882333Z Downloading requests-2.32.4-py3-none-any.whl (64 kB)
2025-09-30T00:59:16.5927406Z Downloading pytest-8.4.1-py3-none-any.whl (365 kB)
2025-09-30T00:59:16.5983795Z Downloading pytest_cov-6.2.1-py3-none-any.whl (24 kB)
2025-09-30T00:59:16.6057751Z Downloading pytest_asyncio-0.25.1-py3-none-any.whl (19 kB)
2025-09-30T00:59:16.6110328Z Downloading aiosqlite-0.20.0-py3-none-any.whl (15 kB)
2025-09-30T00:59:16.6157957Z Downloading anyio-4.11.0-py3-none-any.whl (109 kB)
2025-09-30T00:59:16.6204803Z Downloading python_dotenv-1.1.0-py3-none-any.whl (20 kB)
2025-09-30T00:59:16.6254016Z Downloading MarkupSafe-3.0.2-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
2025-09-30T00:59:16.6295190Z Downloading httpx-0.28.1-py3-none-any.whl (73 kB)
2025-09-30T00:59:16.6387679Z Downloading ruff-0.12.0-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.6 MB)
2025-09-30T00:59:16.7224421Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 11.6/11.6 MB 140.5 MB/s  0:00:00
2025-09-30T00:59:16.7266679Z Downloading deepl-1.22.0-py3-none-any.whl (43 kB)
2025-09-30T00:59:16.7316622Z Downloading pydantic_core-2.33.2-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
2025-09-30T00:59:16.7437604Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 195.1 MB/s  0:00:00
2025-09-30T00:59:16.7470895Z Downloading charset_normalizer-3.4.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (151 kB)
2025-09-30T00:59:16.7518135Z Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
2025-09-30T00:59:16.7568497Z Downloading idna-3.10-py3-none-any.whl (70 kB)
2025-09-30T00:59:16.7624470Z Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
2025-09-30T00:59:16.7666415Z Downloading starlette-0.46.2-py3-none-any.whl (72 kB)
2025-09-30T00:59:16.7716536Z Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
2025-09-30T00:59:16.7764969Z Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
2025-09-30T00:59:16.7810125Z Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
2025-09-30T00:59:16.7859709Z Downloading click-8.3.0-py3-none-any.whl (107 kB)
2025-09-30T00:59:16.7907912Z Downloading coverage-7.10.7-cp313-cp313-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (252 kB)
2025-09-30T00:59:16.7962566Z Downloading dnspython-2.8.0-py3-none-any.whl (331 kB)
2025-09-30T00:59:16.8030355Z Downloading h11-0.16.0-py3-none-any.whl (37 kB)
2025-09-30T00:59:16.8116667Z Downloading httptools-0.6.4-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (473 kB)
2025-09-30T00:59:16.8181399Z Downloading iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
2025-09-30T00:59:16.8222711Z Downloading packaging-25.0-py3-none-any.whl (66 kB)
2025-09-30T00:59:16.8282470Z Downloading pygments-2.19.2-py3-none-any.whl (1.2 MB)
2025-09-30T00:59:16.8374369Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 144.5 MB/s  0:00:00
2025-09-30T00:59:16.8408274Z Downloading pyyaml-6.0.3-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (801 kB)
2025-09-30T00:59:16.8475938Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 801.6/801.6 kB 126.7 MB/s  0:00:00
2025-09-30T00:59:16.8504628Z Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
2025-09-30T00:59:16.8551931Z Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
2025-09-30T00:59:16.8596248Z Downloading typing_inspection-0.4.1-py3-none-any.whl (14 kB)
2025-09-30T00:59:16.8639828Z Downloading uvloop-0.21.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.7 MB)
2025-09-30T00:59:16.8876806Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.7/4.7 MB 210.9 MB/s  0:00:00
2025-09-30T00:59:16.8907397Z Downloading watchfiles-1.1.0-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (451 kB)
2025-09-30T00:59:16.8973073Z Downloading websockets-15.0.1-cp313-cp313-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
2025-09-30T00:59:17.0452556Z Installing collected packages: websockets, uvloop, urllib3, typing-extensions, sniffio, ruff, pyyaml, python-dotenv, PyJWT, pygments, pluggy, packaging, markupsafe, iniconfig, idna, httptools, h11, greenlet, dnspython, coverage, click, charset_normalizer, certifi, bcrypt, asyncpg, annotated-types, uvicorn, typing-inspection, sqlalchemy, requests, pytest, pydantic-core, httpcore, email-validator, anyio, aiosqlite, watchfiles, starlette, pytest-cov, pytest-asyncio, pydantic, httpx, deepl, pydantic-settings, fastapi
2025-09-30T00:59:21.3596579Z 
2025-09-30T00:59:21.3651588Z Successfully installed PyJWT-2.10.1 aiosqlite-0.20.0 annotated-types-0.7.0 anyio-4.11.0 asyncpg-0.30.0 bcrypt-4.3.0 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.3.0 coverage-7.10.7 deepl-1.22.0 dnspython-2.8.0 email-validator-2.2.0 fastapi-0.115.13 greenlet-3.2.4 h11-0.16.0 httpcore-1.0.9 httptools-0.6.4 httpx-0.28.1 idna-3.10 iniconfig-2.1.0 markupsafe-3.0.2 packaging-25.0 pluggy-1.6.0 pydantic-2.11.7 pydantic-core-2.33.2 pydantic-settings-2.9.1 pygments-2.19.2 pytest-8.4.1 pytest-asyncio-0.25.1 pytest-cov-6.2.1 python-dotenv-1.1.0 pyyaml-6.0.3 requests-2.32.4 ruff-0.12.0 sniffio-1.3.1 sqlalchemy-2.0.41 starlette-0.46.2 typing-extensions-4.15.0 typing-inspection-0.4.1 urllib3-2.5.0 uvicorn-0.34.3 uvloop-0.21.0 watchfiles-1.1.0 websockets-15.0.1
2025-09-30T00:59:21.7815178Z ##[group]Run ruff check app/ tests/ main.py
2025-09-30T00:59:21.7815525Z [36;1mruff check app/ tests/ main.py[0m
2025-09-30T00:59:21.7848346Z shell: /usr/bin/bash -e {0}
2025-09-30T00:59:21.7848572Z env:
2025-09-30T00:59:21.7849029Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:21.7849281Z   CI: true
2025-09-30T00:59:21.7849470Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:21.7849703Z   ALGORITHM: HS256
2025-09-30T00:59:21.7849906Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:21.7850141Z   APP_NAME: The Gathering Test
2025-09-30T00:59:21.7850354Z   DEBUG: false
2025-09-30T00:59:21.7850548Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:21.7850867Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.7851262Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib/pkgconfig
2025-09-30T00:59:21.7851644Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.7852040Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.7852383Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.7852738Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib
2025-09-30T00:59:21.7853305Z ##[endgroup]
2025-09-30T00:59:21.8067960Z All checks passed!
2025-09-30T00:59:21.8103973Z ##[group]Run ruff format --check app/ tests/ main.py
2025-09-30T00:59:21.8104365Z [36;1mruff format --check app/ tests/ main.py[0m
2025-09-30T00:59:21.8136823Z shell: /usr/bin/bash -e {0}
2025-09-30T00:59:21.8137051Z env:
2025-09-30T00:59:21.8137513Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:21.8137763Z   CI: true
2025-09-30T00:59:21.8138132Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:21.8138361Z   ALGORITHM: HS256
2025-09-30T00:59:21.8138554Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:21.8138789Z   APP_NAME: The Gathering Test
2025-09-30T00:59:21.8138990Z   DEBUG: false
2025-09-30T00:59:21.8139184Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:21.8139478Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8139880Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib/pkgconfig
2025-09-30T00:59:21.8140259Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8140626Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8140951Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8141286Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib
2025-09-30T00:59:21.8141570Z ##[endgroup]
2025-09-30T00:59:21.8359420Z 55 files already formatted
2025-09-30T00:59:21.8393679Z ##[group]Run pytest tests/unit/ -v --tb=short
2025-09-30T00:59:21.8394061Z [36;1mpytest tests/unit/ -v --tb=short[0m
2025-09-30T00:59:21.8426471Z shell: /usr/bin/bash -e {0}
2025-09-30T00:59:21.8426693Z env:
2025-09-30T00:59:21.8427166Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:21.8427417Z   CI: true
2025-09-30T00:59:21.8427597Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:21.8427834Z   ALGORITHM: HS256
2025-09-30T00:59:21.8428029Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:21.8428252Z   APP_NAME: The Gathering Test
2025-09-30T00:59:21.8428464Z   DEBUG: false
2025-09-30T00:59:21.8428653Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:21.8428961Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8429352Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib/pkgconfig
2025-09-30T00:59:21.8429722Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8430092Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8430424Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:21.8430756Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib
2025-09-30T00:59:21.8431037Z ##[endgroup]
2025-09-30T00:59:23.0846475Z ============================= test session starts ==============================
2025-09-30T00:59:23.0848918Z platform linux -- Python 3.13.7, pytest-8.4.1, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.13.7/x64/bin/python
2025-09-30T00:59:23.0854208Z cachedir: .pytest_cache
2025-09-30T00:59:23.0854731Z rootdir: /home/runner/work/the_gathering_beta/the_gathering_beta
2025-09-30T00:59:23.0855336Z configfile: pytest.ini
2025-09-30T00:59:23.0855783Z plugins: anyio-4.11.0, asyncio-0.25.1, cov-6.2.1
2025-09-30T00:59:23.0856422Z asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
2025-09-30T00:59:23.9277253Z collecting ... collected 35 items
2025-09-30T00:59:23.9278025Z 
2025-09-30T00:59:23.9502714Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_process_message_translation_background_success PASSED [  2%]
2025-09-30T00:59:23.9537054Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_process_message_translation_background_disabled PASSED [  5%]
2025-09-30T00:59:23.9577652Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_process_message_translation_background_existing_translation PASSED [  8%]
2025-09-30T00:59:23.9616056Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_process_message_translation_background_translation_failure PASSED [ 11%]
2025-09-30T00:59:23.9649027Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_log_user_activity_background_success PASSED [ 14%]
2025-09-30T00:59:23.9681020Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_log_user_activity_background_without_details PASSED [ 17%]
2025-09-30T00:59:23.9709461Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_notify_room_users_background_success PASSED [ 20%]
2025-09-30T00:59:23.9742685Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_notify_room_users_background_no_exclusions PASSED [ 22%]
2025-09-30T00:59:23.9781564Z tests/unit/test_async_background_service.py::TestAsyncBackgroundService::test_background_task_error_logging PASSED [ 25%]
2025-09-30T00:59:24.0131699Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_create_user_success PASSED [ 28%]
2025-09-30T00:59:24.0382750Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_get_by_id_success PASSED [ 31%]
2025-09-30T00:59:24.0548831Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_get_by_id_not_found PASSED [ 34%]
2025-09-30T00:59:24.0770514Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_get_by_username_success PASSED [ 37%]
2025-09-30T00:59:24.0997518Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_get_by_email_success PASSED [ 40%]
2025-09-30T00:59:24.1225719Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_update_user_success PASSED [ 42%]
2025-09-30T00:59:24.1446790Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_username_exists_true PASSED [ 45%]
2025-09-30T00:59:24.1609488Z tests/unit/test_async_repositories.py::TestAsyncUserRepository::test_username_exists_false PASSED [ 48%]
2025-09-30T00:59:24.1786623Z tests/unit/test_async_repositories.py::TestAsyncRoomRepository::test_create_room_success PASSED [ 51%]
2025-09-30T00:59:24.2001751Z tests/unit/test_async_repositories.py::TestAsyncRoomRepository::test_get_active_rooms PASSED [ 54%]
2025-09-30T00:59:24.2225322Z tests/unit/test_async_repositories.py::TestAsyncRoomRepository::test_get_user_count PASSED [ 57%]
2025-09-30T00:59:24.2447827Z tests/unit/test_async_repositories.py::TestAsyncRoomRepository::test_update_room_success PASSED [ 60%]
2025-09-30T00:59:24.2760387Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_create_message_success PASSED [ 62%]
2025-09-30T00:59:24.3026188Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_get_room_messages_success PASSED [ 65%]
2025-09-30T00:59:24.3291485Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_get_conversation_messages_success PASSED [ 68%]
2025-09-30T00:59:24.3454504Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_get_all_messages_pagination PASSED [ 71%]
2025-09-30T00:59:24.3694253Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_exists_message PASSED [ 74%]
2025-09-30T00:59:24.3983031Z tests/unit/test_async_repositories.py::TestAsyncMessageRepository::test_delete_message_success PASSED [ 77%]
2025-09-30T00:59:24.4010961Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_message_content_success PASSED [ 80%]
2025-09-30T00:59:24.4143603Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_message_content_empty_content PASSED [ 82%]
2025-09-30T00:59:24.9187645Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_message_content_invalid_language PASSED [ 85%]
2025-09-30T00:59:24.9228378Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_multiple_languages_success PASSED [ 88%]
2025-09-30T00:59:24.9258281Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_multiple_languages_empty_list PASSED [ 91%]
2025-09-30T00:59:24.9323299Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_get_existing_translation_found PASSED [ 94%]
2025-09-30T00:59:24.9365777Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_get_existing_translation_not_found PASSED [ 97%]
2025-09-30T00:59:25.0860834Z tests/unit/test_async_translation_service.py::TestAsyncTranslationService::test_translate_and_store_message_success PASSED [100%]
2025-09-30T00:59:25.0861973Z 
2025-09-30T00:59:25.0862689Z ======================== 35 passed, 1 warning in 1.86s =========================
2025-09-30T00:59:25.2214258Z ##[group]Run pytest tests/e2e/ -v --tb=short
2025-09-30T00:59:25.2214837Z [36;1mpytest tests/e2e/ -v --tb=short[0m
2025-09-30T00:59:25.2260927Z shell: /usr/bin/bash -e {0}
2025-09-30T00:59:25.2261319Z env:
2025-09-30T00:59:25.2262148Z   DATABASE_URL: ***localhost:5432/postgres
2025-09-30T00:59:25.2262592Z   CI: true
2025-09-30T00:59:25.2263104Z   SECRET_KEY: test-secret-key-for-ci
2025-09-30T00:59:25.2263537Z   ALGORITHM: HS256
2025-09-30T00:59:25.2263889Z   ACCESS_TOKEN_EXPIRE_MINUTES: 30
2025-09-30T00:59:25.2264306Z   APP_NAME: The Gathering Test
2025-09-30T00:59:25.2264682Z   DEBUG: false
2025-09-30T00:59:25.2265017Z   DEEPL_API_KEY: test-deepl-key-for-ci
2025-09-30T00:59:25.2265557Z   pythonLocation: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:25.2266255Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib/pkgconfig
2025-09-30T00:59:25.2266934Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:25.2267603Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:25.2268192Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.13.7/x64
2025-09-30T00:59:25.2268856Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.13.7/x64/lib
2025-09-30T00:59:25.2269394Z ##[endgroup]
2025-09-30T00:59:26.2474884Z ============================= test session starts ==============================
2025-09-30T00:59:26.2478053Z platform linux -- Python 3.13.7, pytest-8.4.1, pluggy-1.6.0 -- /opt/hostedtoolcache/Python/3.13.7/x64/bin/python
2025-09-30T00:59:26.2480212Z cachedir: .pytest_cache
2025-09-30T00:59:26.2480791Z rootdir: /home/runner/work/the_gathering_beta/the_gathering_beta
2025-09-30T00:59:26.2481411Z configfile: pytest.ini
2025-09-30T00:59:26.2481854Z plugins: anyio-4.11.0, asyncio-0.25.1, cov-6.2.1
2025-09-30T00:59:26.2482519Z asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None
2025-09-30T00:59:26.3069660Z collecting ... collected 18 items
2025-09-30T00:59:26.3071889Z 
2025-09-30T00:59:27.6724510Z tests/e2e/test_critical_workflows.py::TestCriticalUserJourneys::test_complete_chat_workflow PASSED [  5%]
2025-09-30T00:59:27.9880055Z tests/e2e/test_critical_workflows.py::TestCriticalUserJourneys::test_room_closure_workflow ERROR [ 11%]
2025-09-30T00:59:29.3838735Z tests/e2e/test_critical_workflows.py::TestCriticalUserJourneys::test_authentication_security PASSED [ 16%]
2025-09-30T00:59:29.6316254Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_message_xor_constraint ERROR [ 22%]
2025-09-30T00:59:30.5298296Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_unique_constraints PASSED [ 27%]
2025-09-30T00:59:30.7570714Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_foreign_key_constraints ERROR [ 33%]
2025-09-30T00:59:31.1202395Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_conversation_participant_constraints PASSED [ 38%]
2025-09-30T00:59:31.3507943Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_enum_validation ERROR [ 44%]
2025-09-30T00:59:31.9833630Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_nullable_constraints PASSED [ 50%]
2025-09-30T00:59:32.2124846Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_cascading_deletes ERROR [ 55%]
2025-09-30T00:59:32.2872584Z tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_database_indexes_exist PASSED [ 61%]
2025-09-30T00:59:32.5205612Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_health_check_endpoint ERROR [ 66%]
2025-09-30T00:59:32.6126356Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_room_count_endpoint PASSED [ 72%]
2025-09-30T00:59:32.8496720Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_get_all_rooms_endpoint ERROR [ 77%]
2025-09-30T00:59:32.9416996Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_get_room_by_id_endpoint PASSED [ 83%]
2025-09-30T00:59:33.1766279Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_join_room_workflow ERROR [ 88%]
2025-09-30T00:59:33.2969554Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_send_and_get_messages_workflow PASSED [ 94%]
2025-09-30T00:59:33.5344926Z tests/e2e/test_integration_api.py::TestIntegrationAPI::test_leave_room_workflow ERROR [100%]
2025-09-30T00:59:33.5348096Z 
2025-09-30T00:59:33.5348313Z ==================================== ERRORS ====================================
2025-09-30T00:59:33.5349077Z ____ ERROR at setup of TestCriticalUserJourneys.test_room_closure_workflow _____
2025-09-30T00:59:33.5350306Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5351390Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5351927Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5357841Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5358802Z     return future.result()
2025-09-30T00:59:33.5359181Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5359954Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5360912Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5361439Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5361895Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5362411Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5363016Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5363595Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5364228Z     return await anext(self.gen)
2025-09-30T00:59:33.5364557Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5365286Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5366055Z     async with conn:
2025-09-30T00:59:33.5366381Z                ^^^^
2025-09-30T00:59:33.5367376Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5368351Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5368823Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5369722Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5370693Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5371748Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5372770Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5382651Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5388406Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5393314Z     return self._connection_cls(self)
2025-09-30T00:59:33.5393710Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5394445Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5395246Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5395664Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5396429Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5397202Z     return self.pool.connect()
2025-09-30T00:59:33.5397529Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5398197Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5398945Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5399327Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5400556Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5401281Z     with util.safe_reraise():
2025-09-30T00:59:33.5401587Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5402266Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5403247Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5403978Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5404725Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5405526Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5406329Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5406689Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5407517Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5408397Z     dbapi_connection.ping()
2025-09-30T00:59:33.5409139Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5409981Z     self._handle_exception(error)
2025-09-30T00:59:33.5410839Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5411709Z     raise error
2025-09-30T00:59:33.5412427Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5414115Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5414487Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5415275Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5416364Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5417011Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5417821Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5418647Z     value = await result
2025-09-30T00:59:33.5418949Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5419728Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5420554Z     await tr.start()
2025-09-30T00:59:33.5421164Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5421890Z     await self._connection.execute(query)
2025-09-30T00:59:33.5422592Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5423511Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5423932Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5424491Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5424912Z     ???
2025-09-30T00:59:33.5427351Z E   RuntimeError: Task <Task pending name='Task-18' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5429878Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5431102Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2fffcb90>>
2025-09-30T00:59:33.5432571Z Traceback (most recent call last):
2025-09-30T00:59:33.5440541Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5441513Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5441918Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5443233Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5444209Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5444552Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5445484Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5446546Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5447047Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5447953Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5449088Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5449725Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5450657Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5451541Z     value = await result
2025-09-30T00:59:33.5451825Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5452535Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5453477Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5453964Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5454857Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5456128Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5457253Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5457823Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5458586Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5459286Z     self._check_closed()
2025-09-30T00:59:33.5459563Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5460233Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5485652Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5493986Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5494579Z ____ ERROR at setup of TestDatabaseConstraints.test_message_xor_constraint _____
2025-09-30T00:59:33.5495575Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5496500Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5496920Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5497602Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5498284Z     return future.result()
2025-09-30T00:59:33.5498591Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5499216Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5500000Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5500445Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5501036Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5501597Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5501976Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5502522Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5503438Z     return await anext(self.gen)
2025-09-30T00:59:33.5503771Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5504469Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5505210Z     async with conn:
2025-09-30T00:59:33.5505481Z                ^^^^
2025-09-30T00:59:33.5506132Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5506912Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5507297Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5508089Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5508888Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5509730Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5510571Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5510940Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5511624Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5512339Z     return self._connection_cls(self)
2025-09-30T00:59:33.5512686Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5513539Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5514305Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5514736Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5515505Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5516275Z     return self.pool.connect()
2025-09-30T00:59:33.5516594Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5517229Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5517975Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5518339Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5519025Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5519752Z     with util.safe_reraise():
2025-09-30T00:59:33.5520063Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5520778Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5521554Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5522272Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5523267Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5524067Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5524873Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5525235Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5526022Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5526824Z     dbapi_connection.ping()
2025-09-30T00:59:33.5527561Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5528356Z     self._handle_exception(error)
2025-09-30T00:59:33.5529541Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5530475Z     raise error
2025-09-30T00:59:33.5531165Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5531973Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5532317Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5533249Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5534326Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5534952Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5535747Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5536572Z     value = await result
2025-09-30T00:59:33.5536862Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5537623Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5538456Z     await tr.start()
2025-09-30T00:59:33.5539067Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5539773Z     await self._connection.execute(query)
2025-09-30T00:59:33.5540474Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5541193Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5541606Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5541996Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5542351Z     ???
2025-09-30T00:59:33.5544669Z E   RuntimeError: Task <Task pending name='Task-28' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5547072Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5548244Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e5bc410>>
2025-09-30T00:59:33.5549338Z Traceback (most recent call last):
2025-09-30T00:59:33.5550303Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5551170Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5551529Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5552489Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5553570Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5553901Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5554809Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5555820Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5556324Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5557269Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5558384Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5559037Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5560257Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5561127Z     value = await result
2025-09-30T00:59:33.5561425Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5562133Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5563043Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5563536Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5564378Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5565613Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5566610Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5567172Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5567941Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5568626Z     self._check_closed()
2025-09-30T00:59:33.5568923Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5569600Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5570878Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5571984Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5572547Z ____ ERROR at setup of TestDatabaseConstraints.test_foreign_key_constraints ____
2025-09-30T00:59:33.5573713Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5574609Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5575048Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5575747Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5576455Z     return future.result()
2025-09-30T00:59:33.5576765Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5577423Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5578225Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5578692Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5579082Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5579509Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5579882Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5580609Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5581221Z     return await anext(self.gen)
2025-09-30T00:59:33.5581548Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5582274Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5583182Z     async with conn:
2025-09-30T00:59:33.5583474Z                ^^^^
2025-09-30T00:59:33.5584147Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5584949Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5585350Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5586096Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5586913Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5587788Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5588637Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5589186Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5590052Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5590806Z     return self._connection_cls(self)
2025-09-30T00:59:33.5591170Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5591883Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5592662Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5593239Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5593999Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5594779Z     return self.pool.connect()
2025-09-30T00:59:33.5595109Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5595772Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5596519Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5596898Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5597596Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5598336Z     with util.safe_reraise():
2025-09-30T00:59:33.5598665Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5599372Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5600178Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5600909Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5601653Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5602465Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5603454Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5603828Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5604668Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5605537Z     dbapi_connection.ping()
2025-09-30T00:59:33.5606304Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5607124Z     self._handle_exception(error)
2025-09-30T00:59:33.5608037Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5608895Z     raise error
2025-09-30T00:59:33.5609612Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5610428Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5610798Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5611609Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5612712Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5613521Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5614364Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5615174Z     value = await result
2025-09-30T00:59:33.5615467Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5616252Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5617124Z     await tr.start()
2025-09-30T00:59:33.5617763Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5618681Z     await self._connection.execute(query)
2025-09-30T00:59:33.5619545Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5620330Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5620755Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5621176Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5621551Z     ???
2025-09-30T00:59:33.5623880Z E   RuntimeError: Task <Task pending name='Task-38' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5626325Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5627559Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e5ccc80>>
2025-09-30T00:59:33.5628673Z Traceback (most recent call last):
2025-09-30T00:59:33.5629562Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5630419Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5630793Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5631730Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5632665Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5633213Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5634111Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5635138Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5635645Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5636589Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5637777Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5638437Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5639369Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5640261Z     value = await result
2025-09-30T00:59:33.5640557Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5641277Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5642105Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5642615Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5643636Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5644881Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5645914Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5646467Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5647234Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5647942Z     self._check_closed()
2025-09-30T00:59:33.5648243Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5648914Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5650369Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5651453Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5651979Z ________ ERROR at setup of TestDatabaseConstraints.test_enum_validation ________
2025-09-30T00:59:33.5653160Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5654076Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5654509Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5655207Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5655908Z     return future.result()
2025-09-30T00:59:33.5656210Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5656861Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5657661Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5658121Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5658513Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5658929Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5659302Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5659871Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5660473Z     return await anext(self.gen)
2025-09-30T00:59:33.5660814Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5661522Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5662292Z     async with conn:
2025-09-30T00:59:33.5662572Z                ^^^^
2025-09-30T00:59:33.5663387Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5664200Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5664607Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5665353Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5666169Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5667052Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5667901Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5668281Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5668994Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5669741Z     return self._connection_cls(self)
2025-09-30T00:59:33.5670101Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5670796Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5671585Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5672022Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5672924Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5673708Z     return self.pool.connect()
2025-09-30T00:59:33.5674038Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5674697Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5675446Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5675827Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5676523Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5677258Z     with util.safe_reraise():
2025-09-30T00:59:33.5677580Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5678618Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5679411Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5680132Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5680875Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5681695Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5682517Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5683040Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5683868Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5684703Z     dbapi_connection.ping()
2025-09-30T00:59:33.5685479Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5686295Z     self._handle_exception(error)
2025-09-30T00:59:33.5687170Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5688047Z     raise error
2025-09-30T00:59:33.5688762Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5689579Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5689934Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5690727Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5691822Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5692471Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5693422Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5694250Z     value = await result
2025-09-30T00:59:33.5694547Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5695281Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5696089Z     await tr.start()
2025-09-30T00:59:33.5696720Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5697447Z     await self._connection.execute(query)
2025-09-30T00:59:33.5698148Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5698896Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5699322Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5699725Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5700092Z     ???
2025-09-30T00:59:33.5702298Z E   RuntimeError: Task <Task pending name='Task-48' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5704879Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5706069Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e5ccd70>>
2025-09-30T00:59:33.5707169Z Traceback (most recent call last):
2025-09-30T00:59:33.5708128Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5709174Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5709747Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5710702Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5711656Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5712000Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5713059Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5714092Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5714604Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5715525Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5716698Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5717346Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5718719Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5719651Z     value = await result
2025-09-30T00:59:33.5719955Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5720662Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5721447Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5721948Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5722937Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5724202Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5725239Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5725811Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5726589Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5727304Z     self._check_closed()
2025-09-30T00:59:33.5727599Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5728282Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5729467Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5730545Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5731078Z _______ ERROR at setup of TestDatabaseConstraints.test_cascading_deletes _______
2025-09-30T00:59:33.5732076Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5733140Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5733571Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5734256Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5734948Z     return future.result()
2025-09-30T00:59:33.5735259Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5735900Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5736678Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5737134Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5737513Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5737939Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5738300Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5738847Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5739805Z     return await anext(self.gen)
2025-09-30T00:59:33.5740144Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5740858Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5741613Z     async with conn:
2025-09-30T00:59:33.5741887Z                ^^^^
2025-09-30T00:59:33.5742570Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5743531Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5743938Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5744688Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5745502Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5746386Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5747268Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5747656Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5748416Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5749194Z     return self._connection_cls(self)
2025-09-30T00:59:33.5749559Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5750250Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5751040Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5751475Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5752224Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5753181Z     return self.pool.connect()
2025-09-30T00:59:33.5753544Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5754213Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5754962Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5755342Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5756064Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5756833Z     with util.safe_reraise():
2025-09-30T00:59:33.5757163Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5757882Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5758644Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5759359Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5760113Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5760945Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5761783Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5762159Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5763114Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5763951Z     dbapi_connection.ping()
2025-09-30T00:59:33.5764724Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5765538Z     self._handle_exception(error)
2025-09-30T00:59:33.5766393Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5767259Z     raise error
2025-09-30T00:59:33.5767967Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5769123Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5769502Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5770292Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5771392Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5772051Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5773006Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5773859Z     value = await result
2025-09-30T00:59:33.5774163Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5774952Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5775824Z     await tr.start()
2025-09-30T00:59:33.5776468Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5777206Z     await self._connection.execute(query)
2025-09-30T00:59:33.5777927Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5778694Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5779115Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5779515Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5779879Z     ???
2025-09-30T00:59:33.5782124Z E   RuntimeError: Task <Task pending name='Task-58' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5784795Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5786000Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e5cc140>>
2025-09-30T00:59:33.5787095Z Traceback (most recent call last):
2025-09-30T00:59:33.5788027Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5788914Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5789298Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5790275Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5791233Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5791575Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5792470Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5793661Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5794172Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5795115Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5796263Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5796921Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5797849Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5798752Z     value = await result
2025-09-30T00:59:33.5799053Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5800131Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5800933Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5801418Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5802270Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5803660Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5804689Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5805232Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5806014Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5806722Z     self._check_closed()
2025-09-30T00:59:33.5807021Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5807700Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5808881Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5809951Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5810504Z _______ ERROR at setup of TestIntegrationAPI.test_health_check_endpoint ________
2025-09-30T00:59:33.5811523Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5812397Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5812979Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5813672Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5814376Z     return future.result()
2025-09-30T00:59:33.5814697Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5815377Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5816184Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5816628Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5817008Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5817422Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5817796Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5818368Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5818963Z     return await anext(self.gen)
2025-09-30T00:59:33.5819287Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5819981Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5820722Z     async with conn:
2025-09-30T00:59:33.5820992Z                ^^^^
2025-09-30T00:59:33.5821657Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5822461Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5822987Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5823748Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5824580Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5825439Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5826288Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5826662Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5827337Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5828063Z     return self._connection_cls(self)
2025-09-30T00:59:33.5828597Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5829402Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5830155Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5830557Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5831284Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5832032Z     return self.pool.connect()
2025-09-30T00:59:33.5832332Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5833113Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5833820Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5834176Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5834851Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5835551Z     with util.safe_reraise():
2025-09-30T00:59:33.5835856Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5836527Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5837276Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5837965Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5838693Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5839466Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5840246Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5840602Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5841373Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5842199Z     dbapi_connection.ping()
2025-09-30T00:59:33.5843096Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5843881Z     self._handle_exception(error)
2025-09-30T00:59:33.5844723Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5845583Z     raise error
2025-09-30T00:59:33.5846256Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5847065Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5847405Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5848163Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5849209Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5849839Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5850649Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5851456Z     value = await result
2025-09-30T00:59:33.5851739Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5852500Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5853490Z     await tr.start()
2025-09-30T00:59:33.5854076Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5854790Z     await self._connection.execute(query)
2025-09-30T00:59:33.5855488Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5856249Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5856851Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5857375Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5857740Z     ???
2025-09-30T00:59:33.5859866Z E   RuntimeError: Task <Task pending name='Task-66' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5862419Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5863860Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e5cec60>>
2025-09-30T00:59:33.5865126Z Traceback (most recent call last):
2025-09-30T00:59:33.5866329Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5867290Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5867773Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5868881Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5869973Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5870474Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5871505Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5872664Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5873683Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5891274Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5892503Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5893555Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5894506Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5895422Z     value = await result
2025-09-30T00:59:33.5895732Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5896485Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5897284Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5897771Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5898626Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5899872Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5900895Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5901426Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5902224Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5903189Z     self._check_closed()
2025-09-30T00:59:33.5903494Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5904197Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5905334Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.5906419Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.5906952Z _______ ERROR at setup of TestIntegrationAPI.test_get_all_rooms_endpoint _______
2025-09-30T00:59:33.5908386Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.5909274Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.5909701Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5910392Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.5911112Z     return future.result()
2025-09-30T00:59:33.5911425Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5912064Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.5913124Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.5913595Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5913974Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.5914383Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.5914762Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5915322Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.5915889Z     return await anext(self.gen)
2025-09-30T00:59:33.5916189Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5916826Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.5917506Z     async with conn:
2025-09-30T00:59:33.5917756Z                ^^^^
2025-09-30T00:59:33.5918343Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.5919063Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.5919425Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5920073Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.5920787Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.5921567Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.5922319Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.5922657Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5923450Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.5924107Z     return self._connection_cls(self)
2025-09-30T00:59:33.5924432Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5925036Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.5925726Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.5926114Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5926797Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.5927509Z     return self.pool.connect()
2025-09-30T00:59:33.5927805Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5928376Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.5929043Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.5929384Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5930008Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.5930652Z     with util.safe_reraise():
2025-09-30T00:59:33.5930936Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5931567Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.5932270Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.5933056Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.5934038Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.5934756Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.5935474Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.5935810Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5936545Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.5937295Z     dbapi_connection.ping()
2025-09-30T00:59:33.5937980Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.5938709Z     self._handle_exception(error)
2025-09-30T00:59:33.5939491Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.5940274Z     raise error
2025-09-30T00:59:33.5940908Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.5941651Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.5941979Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5942679Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.5943776Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5944343Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5945074Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.5945808Z     value = await result
2025-09-30T00:59:33.5946074Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5946752Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.5947517Z     await tr.start()
2025-09-30T00:59:33.5948074Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.5948726Z     await self._connection.execute(query)
2025-09-30T00:59:33.5949370Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.5950064Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.5950444Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5950798Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.5951122Z     ???
2025-09-30T00:59:33.5953313Z E   RuntimeError: Task <Task pending name='Task-77' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.5955636Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.5956837Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e1dc050>>
2025-09-30T00:59:33.5959066Z Traceback (most recent call last):
2025-09-30T00:59:33.5962380Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.5966964Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.5967422Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.5968506Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.5969996Z     dbapi_connection.terminate()
2025-09-30T00:59:33.5970384Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5971347Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.5972428Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.5973143Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5974139Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.5975441Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.5976154Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.5977159Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.5978166Z     value = await result
2025-09-30T00:59:33.5978499Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.5979302Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.5980186Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.5980718Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.5981648Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.5983196Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.5987341Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.5988000Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.5988808Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.5989552Z     self._check_closed()
2025-09-30T00:59:33.5989855Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.5990558Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.5991730Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.6016345Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.6017371Z _________ ERROR at setup of TestIntegrationAPI.test_join_room_workflow _________
2025-09-30T00:59:33.6018522Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.6019547Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.6020024Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6020789Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.6021584Z     return future.result()
2025-09-30T00:59:33.6021931Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6022647Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.6033424Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.6033888Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6034271Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.6034703Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.6035070Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6035638Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.6036242Z     return await anext(self.gen)
2025-09-30T00:59:33.6036561Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6037269Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.6038244Z     async with conn:
2025-09-30T00:59:33.6038683Z                ^^^^
2025-09-30T00:59:33.6039366Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.6040160Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.6040547Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6041287Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.6042113Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.6064481Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.6065554Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.6065997Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6066822Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.6067683Z     return self._connection_cls(self)
2025-09-30T00:59:33.6068085Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6068851Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.6069710Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.6070174Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6071023Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.6071915Z     return self.pool.connect()
2025-09-30T00:59:33.6072287Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6073212Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.6074077Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.6074488Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6075235Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.6076040Z     with util.safe_reraise():
2025-09-30T00:59:33.6076404Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6077202Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.6078090Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.6078921Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.6079762Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.6080677Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.6081603Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.6082011Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6113916Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.6114893Z     dbapi_connection.ping()
2025-09-30T00:59:33.6116613Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.6117540Z     self._handle_exception(error)
2025-09-30T00:59:33.6118500Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.6119498Z     raise error
2025-09-30T00:59:33.6120939Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.6122001Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.6122353Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6123382Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.6124967Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.6125606Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6126398Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.6127210Z     value = await result
2025-09-30T00:59:33.6127500Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.6128267Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.6129101Z     await tr.start()
2025-09-30T00:59:33.6129705Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.6130394Z     await self._connection.execute(query)
2025-09-30T00:59:33.6131076Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.6131828Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.6132229Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6132611Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.6133263Z     ???
2025-09-30T00:59:33.6135419Z E   RuntimeError: Task <Task pending name='Task-89' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6137843Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.6139031Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e1dce60>>
2025-09-30T00:59:33.6140091Z Traceback (most recent call last):
2025-09-30T00:59:33.6141030Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.6141912Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.6142277Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.6143527Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.6145254Z     dbapi_connection.terminate()
2025-09-30T00:59:33.6145644Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.6146759Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.6147815Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.6148329Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6149261Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.6150385Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.6150997Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.6151915Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.6153669Z     value = await result
2025-09-30T00:59:33.6153999Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.6154731Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.6155495Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.6155982Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.6157212Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.6158434Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.6159423Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.6159956Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6160696Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.6161397Z     self._check_closed()
2025-09-30T00:59:33.6161696Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.6162348Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.6163839Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.6165084Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.6165619Z ________ ERROR at setup of TestIntegrationAPI.test_leave_room_workflow _________
2025-09-30T00:59:33.6166572Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:329: in _asyncgen_fixture_wrapper
2025-09-30T00:59:33.6167451Z     result = event_loop.run_until_complete(setup_task)
2025-09-30T00:59:33.6167880Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6168542Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
2025-09-30T00:59:33.6169219Z     return future.result()
2025-09-30T00:59:33.6169518Z            ^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6170133Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324: in setup
2025-09-30T00:59:33.6170922Z     res = await gen_obj.__anext__()  # type: ignore[union-attr]
2025-09-30T00:59:33.6171352Z           ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6171739Z tests/e2e/conftest.py:70: in async_db_session
2025-09-30T00:59:33.6172167Z     async with async_engine.begin() as conn:
2025-09-30T00:59:33.6172530Z                ^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6173310Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/contextlib.py:214: in __aenter__
2025-09-30T00:59:33.6173918Z     return await anext(self.gen)
2025-09-30T00:59:33.6174238Z            ^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6174947Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:1066: in begin
2025-09-30T00:59:33.6175682Z     async with conn:
2025-09-30T00:59:33.6175949Z                ^^^^
2025-09-30T00:59:33.6176622Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/base.py:121: in __aenter__
2025-09-30T00:59:33.6177419Z     return await self.start(is_ctxmanager=True)
2025-09-30T00:59:33.6177805Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6178544Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/engine.py:274: in start
2025-09-30T00:59:33.6179332Z     await greenlet_spawn(self.sync_engine.connect)
2025-09-30T00:59:33.6180199Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
2025-09-30T00:59:33.6181040Z     result = context.throw(*sys.exc_info())
2025-09-30T00:59:33.6181416Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6182101Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3273: in connect
2025-09-30T00:59:33.6183075Z     return self._connection_cls(self)
2025-09-30T00:59:33.6183437Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6184097Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:145: in __init__
2025-09-30T00:59:33.6184839Z     self._dbapi_connection = engine.raw_connection()
2025-09-30T00:59:33.6185465Z                              ^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6186376Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/base.py:3297: in raw_connection
2025-09-30T00:59:33.6187137Z     return self.pool.connect()
2025-09-30T00:59:33.6187461Z            ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6188098Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:449: in connect
2025-09-30T00:59:33.6188826Z     return _ConnectionFairy._checkout(self)
2025-09-30T00:59:33.6189190Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6189880Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1363: in _checkout
2025-09-30T00:59:33.6190598Z     with util.safe_reraise():
2025-09-30T00:59:33.6190916Z          ^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6191610Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__
2025-09-30T00:59:33.6192382Z     raise exc_value.with_traceback(exc_tb)
2025-09-30T00:59:33.6193294Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py:1301: in _checkout
2025-09-30T00:59:33.6194019Z     result = pool._dialect._do_ping_w_event(
2025-09-30T00:59:33.6194810Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/engine/default.py:720: in _do_ping_w_event
2025-09-30T00:59:33.6195616Z     return self.do_ping(dbapi_connection)
2025-09-30T00:59:33.6195981Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6196772Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:1163: in do_ping
2025-09-30T00:59:33.6197597Z     dbapi_connection.ping()
2025-09-30T00:59:33.6198320Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:813: in ping
2025-09-30T00:59:33.6199123Z     self._handle_exception(error)
2025-09-30T00:59:33.6200009Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:794: in _handle_exception
2025-09-30T00:59:33.6200857Z     raise error
2025-09-30T00:59:33.6201549Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:811: in ping
2025-09-30T00:59:33.6202364Z     _ = self.await_(self._async_ping())
2025-09-30T00:59:33.6202706Z         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6203721Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
2025-09-30T00:59:33.6204804Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.6205437Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6206265Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
2025-09-30T00:59:33.6207105Z     value = await result
2025-09-30T00:59:33.6207412Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.6208221Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:820: in _async_ping
2025-09-30T00:59:33.6209042Z     await tr.start()
2025-09-30T00:59:33.6209644Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/transaction.py:146: in start
2025-09-30T00:59:33.6210346Z     await self._connection.execute(query)
2025-09-30T00:59:33.6211041Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py:349: in execute
2025-09-30T00:59:33.6211786Z     result = await self._protocol.query(query, timeout)
2025-09-30T00:59:33.6212210Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6212610Z asyncpg/protocol/protocol.pyx:375: in query
2025-09-30T00:59:33.6213137Z     ???
2025-09-30T00:59:33.6215438Z E   RuntimeError: Task <Task pending name='Task-104' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6217937Z ------------------------------ Captured log setup ------------------------------
2025-09-30T00:59:33.6219107Z ERROR    sqlalchemy.pool.impl.AsyncAdaptedQueuePool:base.py:378 Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f5c2e17c140>>
2025-09-30T00:59:33.6220196Z Traceback (most recent call last):
2025-09-30T00:59:33.6221086Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-09-30T00:59:33.6221939Z     self._dialect.do_terminate(connection)
2025-09-30T00:59:33.6222318Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
2025-09-30T00:59:33.6223554Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1130, in do_terminate
2025-09-30T00:59:33.6224516Z     dbapi_connection.terminate()
2025-09-30T00:59:33.6224860Z     ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.6225777Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 907, in terminate
2025-09-30T00:59:33.6226822Z     self.await_(asyncio.shield(self._connection.close(timeout=2)))
2025-09-30T00:59:33.6227326Z     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6228256Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
2025-09-30T00:59:33.6229419Z     return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
2025-09-30T00:59:33.6230084Z            ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
2025-09-30T00:59:33.6231045Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
2025-09-30T00:59:33.6231963Z     value = await result
2025-09-30T00:59:33.6232264Z             ^^^^^^^^^^^^
2025-09-30T00:59:33.6233163Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1504, in close
2025-09-30T00:59:33.6233965Z     await self._protocol.close(timeout)
2025-09-30T00:59:33.6234483Z   File "asyncpg/protocol/protocol.pyx", line 627, in close
2025-09-30T00:59:33.6235358Z   File "asyncpg/protocol/protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
2025-09-30T00:59:33.6236619Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/asyncpg/connection.py", line 1673, in _cancel_current_command
2025-09-30T00:59:33.6237642Z     self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
2025-09-30T00:59:33.6238213Z                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
2025-09-30T00:59:33.6239010Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 466, in create_task
2025-09-30T00:59:33.6239734Z     self._check_closed()
2025-09-30T00:59:33.6240033Z     ~~~~~~~~~~~~~~~~~~^^
2025-09-30T00:59:33.6240718Z   File "/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py", line 556, in _check_closed
2025-09-30T00:59:33.6241882Z ##[error]    raise RuntimeError('Event loop is closed')
2025-09-30T00:59:33.6243495Z RuntimeError: Event loop is closed
2025-09-30T00:59:33.6243937Z =========================== short test summary info ============================
2025-09-30T00:59:33.6247113Z ERROR tests/e2e/test_critical_workflows.py::TestCriticalUserJourneys::test_room_closure_workflow - RuntimeError: Task <Task pending name='Task-18' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6252546Z ERROR tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_message_xor_constraint - RuntimeError: Task <Task pending name='Task-28' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6258053Z ERROR tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_foreign_key_constraints - RuntimeError: Task <Task pending name='Task-38' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6263642Z ERROR tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_enum_validation - RuntimeError: Task <Task pending name='Task-48' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6268975Z ERROR tests/e2e/test_database_constraints.py::TestDatabaseConstraints::test_cascading_deletes - RuntimeError: Task <Task pending name='Task-58' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6274408Z ERROR tests/e2e/test_integration_api.py::TestIntegrationAPI::test_health_check_endpoint - RuntimeError: Task <Task pending name='Task-66' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6279641Z ERROR tests/e2e/test_integration_api.py::TestIntegrationAPI::test_get_all_rooms_endpoint - RuntimeError: Task <Task pending name='Task-77' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.6283287Z /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/_pytest/unraisableexception.py:33: RuntimeWarning: coroutine 'Connection._cancel' was never awaited
2025-09-30T00:59:33.6284326Z   gc.collect()
2025-09-30T00:59:33.6284779Z RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-09-30T00:59:33.7434132Z ERROR tests/e2e/test_integration_api.py::TestIntegrationAPI::test_join_room_workflow - RuntimeError: Task <Task pending name='Task-89' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.7441384Z ERROR tests/e2e/test_integration_api.py::TestIntegrationAPI::test_leave_room_workflow - RuntimeError: Task <Task pending name='Task-104' coro=<_wrap_asyncgen_fixture.<locals>._asyncgen_fixture_wrapper.<locals>.setup() running at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/site-packages/pytest_asyncio/plugin.py:324> cb=[_run_until_complete_cb() at /opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
2025-09-30T00:59:33.7444539Z =================== 9 passed, 2 warnings, 9 errors in 7.30s ====================
2025-09-30T00:59:33.9023353Z ##[error]Process completed with exit code 1.
2025-09-30T00:59:33.9102967Z Post job cleanup.
2025-09-30T00:59:34.0060914Z [command]/usr/bin/git version
2025-09-30T00:59:34.0099353Z git version 2.51.0
2025-09-30T00:59:34.0145769Z Temporarily overriding HOME='/home/runner/work/_temp/7009b0b3-4cb9-40d4-b4fc-be402e2258ce' before making global git config changes
2025-09-30T00:59:34.0148255Z Adding repository directory to the temporary git global config as a safe directory
2025-09-30T00:59:34.0153285Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/the_gathering_beta/the_gathering_beta
2025-09-30T00:59:34.0199061Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-30T00:59:34.0235069Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-30T00:59:34.0480787Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-30T00:59:34.0505085Z http.https://github.com/.extraheader
2025-09-30T00:59:34.0520145Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-09-30T00:59:34.0554807Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-30T00:59:34.0883165Z Print service container logs: 31e22dbc9c9442d89a94c77750cfbb0a_postgres13_3cd9ba
2025-09-30T00:59:34.0887751Z ##[command]/usr/bin/docker logs --details c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:59:34.1024556Z  The files belonging to this database system will be owned by user "postgres".
2025-09-30T00:59:34.1026655Z  This user must also own the server process.
2025-09-30T00:59:34.1027078Z  
2025-09-30T00:59:34.1027496Z  The database cluster will be initialized with locale "en_US.utf8".
2025-09-30T00:59:34.1028181Z  The default database encoding has accordingly been set to "UTF8".
2025-09-30T00:59:34.1028960Z  The default text search configuration will be set to "english".
2025-09-30T00:59:34.1029459Z  
2025-09-30T00:59:34.1029731Z  Data page checksums are disabled.
2025-09-30T00:59:34.1030094Z  
2025-09-30T00:59:34.1030538Z  fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-09-30T00:59:34.1031196Z  creating subdirectories ... ok
2025-09-30T00:59:34.1031686Z  selecting dynamic shared memory implementation ... posix
2025-09-30T00:59:34.1032227Z  selecting default max_connections ... 100
2025-09-30T00:59:34.1032682Z  selecting default shared_buffers ... 128MB
2025-09-30T00:59:34.1033368Z  selecting default time zone ... Etc/UTC
2025-09-30T00:59:34.1034087Z  creating configuration files ... ok
2025-09-30T00:59:34.1034502Z  running bootstrap script ... ok
2025-09-30T00:59:34.1034957Z  performing post-bootstrap initialization ... ok
2025-09-30T00:59:34.1035414Z  syncing data to disk ... ok
2025-09-30T00:59:34.1035756Z  
2025-09-30T00:59:34.1035986Z  
2025-09-30T00:59:34.1036331Z  Success. You can now start the database server using:
2025-09-30T00:59:34.1036788Z  
2025-09-30T00:59:34.1037127Z      pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-09-30T00:59:34.1037572Z  
2025-09-30T00:59:34.1038517Z  waiting for server to start....2025-09-30 00:58:54.976 UTC [46] LOG:  starting PostgreSQL 13.22 (Debian 13.22-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-30T00:59:34.1039826Z  2025-09-30 00:58:54.977 UTC [46] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-09-30T00:59:34.1040689Z  2025-09-30 00:58:54.979 UTC [47] LOG:  database system was shut down at 2025-09-30 00:58:54 UTC
2025-09-30T00:59:34.1041446Z  2025-09-30 00:58:54.983 UTC [46] LOG:  database system is ready to accept connections
2025-09-30T00:59:34.1042000Z   done
2025-09-30T00:59:34.1042252Z  server started
2025-09-30T00:59:34.1042531Z  
2025-09-30T00:59:34.1047154Z  /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-09-30T00:59:34.1047801Z  
2025-09-30T00:59:34.1048181Z  2025-09-30 00:58:55.096 UTC [46] LOG:  received fast shutdown request
2025-09-30T00:59:34.1048985Z  waiting for server to shut down....2025-09-30 00:58:55.096 UTC [46] LOG:  aborting any active transactions
2025-09-30T00:59:34.1050003Z  2025-09-30 00:58:55.098 UTC [46] LOG:  background worker "logical replication launcher" (PID 53) exited with exit code 1
2025-09-30T00:59:34.1050806Z  2025-09-30 00:58:55.100 UTC [48] LOG:  shutting down
2025-09-30T00:59:34.1051357Z  2025-09-30 00:58:55.107 UTC [46] LOG:  database system is shut down
2025-09-30T00:59:34.1051832Z   done
2025-09-30T00:59:34.1052094Z  server stopped
2025-09-30T00:59:34.1052374Z  
2025-09-30T00:59:34.1052724Z  PostgreSQL init process complete; ready for start up.
2025-09-30T00:59:34.1053462Z  
2025-09-30T00:59:34.1055095Z  initdb: warning: enabling "trust" authentication for local connections
2025-09-30T00:59:34.1055856Z  You can change this by editing pg_hba.conf or using the option -A, or
2025-09-30T00:59:34.1056529Z  --auth-local and --auth-host, the next time you run initdb.
2025-09-30T00:59:34.1057550Z  2025-09-30 00:58:55.215 UTC [1] LOG:  starting PostgreSQL 13.22 (Debian 13.22-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-30T00:59:34.1059287Z  2025-09-30 00:58:55.215 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-09-30T00:59:34.1060006Z  2025-09-30 00:58:55.215 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-09-30T00:59:34.1060786Z  2025-09-30 00:58:55.216 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-09-30T00:59:34.1061635Z  2025-09-30 00:58:55.218 UTC [59] LOG:  database system was shut down at 2025-09-30 00:58:55 UTC
2025-09-30T00:59:34.1062399Z  2025-09-30 00:58:55.221 UTC [1] LOG:  database system is ready to accept connections
2025-09-30T00:59:34.1063426Z  2025-09-30 00:59:04.334 UTC [73] FATAL:  role "root" does not exist
2025-09-30T00:59:34.1063784Z  2025-09-30 00:59:14.443 UTC [81] FATAL:  role "root" does not exist
2025-09-30T00:59:34.1064125Z  2025-09-30 00:59:24.511 UTC [89] FATAL:  role "root" does not exist
2025-09-30T00:59:34.1064536Z  2025-09-30 00:59:28.363 UTC [90] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1065057Z  2025-09-30 00:59:30.234 UTC [92] ERROR:  duplicate key value violates unique constraint "ix_users_email"
2025-09-30T00:59:34.1065535Z  2025-09-30 00:59:30.234 UTC [92] DETAIL:  Key (email)=(user@example.com) already exists.
2025-09-30T00:59:34.1066742Z  2025-09-30 00:59:30.234 UTC [92] STATEMENT:  INSERT INTO users (email, username, password_hash, avatar_url, preferred_language, status, is_active, last_active, is_admin, current_room_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::userstatus, $7::BOOLEAN, $8::TIMESTAMP WITH TIME ZONE, $9::BOOLEAN, $10::INTEGER) RETURNING users.id, users.created_at
2025-09-30T00:59:34.1068176Z  2025-09-30 00:59:30.504 UTC [92] ERROR:  duplicate key value violates unique constraint "ix_users_username"
2025-09-30T00:59:34.1068644Z  2025-09-30 00:59:30.504 UTC [92] DETAIL:  Key (username)=(testuser) already exists.
2025-09-30T00:59:34.1069813Z  2025-09-30 00:59:30.504 UTC [92] STATEMENT:  INSERT INTO users (email, username, password_hash, avatar_url, preferred_language, status, is_active, last_active, is_admin, current_room_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::userstatus, $7::BOOLEAN, $8::TIMESTAMP WITH TIME ZONE, $9::BOOLEAN, $10::INTEGER) RETURNING users.id, users.created_at
2025-09-30T00:59:34.1071079Z  2025-09-30 00:59:30.506 UTC [92] ERROR:  duplicate key value violates unique constraint "rooms_name_key"
2025-09-30T00:59:34.1071545Z  2025-09-30 00:59:30.506 UTC [92] DETAIL:  Key (name)=(Test Room) already exists.
2025-09-30T00:59:34.1072340Z  2025-09-30 00:59:30.506 UTC [92] STATEMENT:  INSERT INTO rooms (name, description, max_users, is_translation_enabled, is_active) VALUES ($1::VARCHAR, $2::VARCHAR, $3::INTEGER, $4::BOOLEAN, $5::BOOLEAN) RETURNING rooms.id, rooms.created_at
2025-09-30T00:59:34.1073472Z  2025-09-30 00:59:31.097 UTC [93] ERROR:  duplicate key value violates unique constraint "idx_conversation_user_unique"
2025-09-30T00:59:34.1074039Z  2025-09-30 00:59:31.097 UTC [93] DETAIL:  Key (conversation_id, user_id)=(1, 1) already exists.
2025-09-30T00:59:34.1074989Z  2025-09-30 00:59:31.097 UTC [93] STATEMENT:  INSERT INTO conversation_participants (conversation_id, user_id, left_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE) RETURNING conversation_participants.id, conversation_participants.joined_at
2025-09-30T00:59:34.1075938Z  2025-09-30 00:59:31.134 UTC [92] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1076467Z  2025-09-30 00:59:31.951 UTC [94] ERROR:  null value in column "email" of relation "users" violates not-null constraint
2025-09-30T00:59:34.1077429Z  2025-09-30 00:59:31.951 UTC [94] DETAIL:  Failing row contains (2, null, testuser, $2b$12$UXkr4lHHnxleTH0SWYBGwOmyqHArkEFjKtMDEfL50szRSvqHR1QlK, null, en, AVAILABLE, t, 2025-09-30 00:59:31.682187+00, 2025-09-30 00:59:31.950738+00, f, null).
2025-09-30T00:59:34.1079198Z  2025-09-30 00:59:31.951 UTC [94] STATEMENT:  INSERT INTO users (email, username, password_hash, avatar_url, preferred_language, status, is_active, last_active, is_admin, current_room_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::userstatus, $7::BOOLEAN, $8::TIMESTAMP WITH TIME ZONE, $9::BOOLEAN, $10::INTEGER) RETURNING users.id, users.created_at
2025-09-30T00:59:34.1080480Z  2025-09-30 00:59:31.954 UTC [94] ERROR:  null value in column "name" of relation "rooms" violates not-null constraint
2025-09-30T00:59:34.1081072Z  2025-09-30 00:59:31.954 UTC [94] DETAIL:  Failing row contains (2, null, Test room, null, f, t, 2025-09-30 00:59:31.953917+00).
2025-09-30T00:59:34.1081968Z  2025-09-30 00:59:31.954 UTC [94] STATEMENT:  INSERT INTO rooms (name, description, max_users, is_translation_enabled, is_active) VALUES ($1::VARCHAR, $2::VARCHAR, $3::INTEGER, $4::BOOLEAN, $5::BOOLEAN) RETURNING rooms.id, rooms.created_at
2025-09-30T00:59:34.1083124Z  2025-09-30 00:59:31.960 UTC [94] ERROR:  null value in column "content" of relation "messages" violates not-null constraint
2025-09-30T00:59:34.1083734Z  2025-09-30 00:59:31.960 UTC [94] DETAIL:  Failing row contains (1, 1, null, TEXT, 2025-09-30 00:59:31.956271+00, 1, null).
2025-09-30T00:59:34.1084637Z  2025-09-30 00:59:31.960 UTC [94] STATEMENT:  INSERT INTO messages (sender_id, content, message_type, room_id, conversation_id) VALUES ($1::INTEGER, $2::VARCHAR, $3::messagetype, $4::INTEGER, $5::INTEGER) RETURNING messages.id, messages.sent_at
2025-09-30T00:59:34.1085643Z  2025-09-30 00:59:33.595 UTC [91] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1086130Z  2025-09-30 00:59:33.598 UTC [95] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1086616Z  2025-09-30 00:59:33.600 UTC [93] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1087090Z  2025-09-30 00:59:33.602 UTC [94] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1087555Z  2025-09-30 00:59:33.602 UTC [96] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1088034Z  2025-09-30 00:59:33.602 UTC [98] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1088503Z  2025-09-30 00:59:33.606 UTC [97] LOG:  unexpected EOF on client connection with an open transaction
2025-09-30T00:59:34.1094887Z Stop and remove container: 31e22dbc9c9442d89a94c77750cfbb0a_postgres13_3cd9ba
2025-09-30T00:59:34.1099582Z ##[command]/usr/bin/docker rm --force c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:59:34.6825786Z c39534d2a259b0498da75635c551ef562677bf74f52fac0015980ed7ad38bc56
2025-09-30T00:59:34.6854660Z Remove container network: github_network_31b950d2e5204a98b1a0969421dd15ae
2025-09-30T00:59:34.6858845Z ##[command]/usr/bin/docker network rm github_network_31b950d2e5204a98b1a0969421dd15ae
2025-09-30T00:59:34.7670257Z github_network_31b950d2e5204a98b1a0969421dd15ae
2025-09-30T00:59:34.7731343Z Cleaning up orphan processes
